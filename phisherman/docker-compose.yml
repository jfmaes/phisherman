
# containerized setup - right now configured to run all containers on same host and exposed through the container IP.
# if you want to expose to localhost, uncomment the ports. this will allow you to serve the frontend on localhost:443 and the backend on localhost:3000
# useful if you want to run evilginx uncontainerized on a VM, but still want access to the application. 
# could be modified for macvlan as well with some slight tweaks to the app sourcode and dockerfiles. 

services:
  backend:
    build: ./backend
    volumes:
      - ./backend:/app
      - ./certs:/app/certs
    #ports:
     # - "3000:3000"
    environment:
      - NODE_ENV=hosted

  

  frontend:
    build: ./frontend
    volumes:
      - ./certs:/certs
      - ./frontend/dist:/usr/local/apache2/htdocs
    ports:
      - "443:443" # Vite HTTPS port
    depends_on:
      - backend
  
